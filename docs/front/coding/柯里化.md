---
sidebar:
group:
title: 柯里化
isTimeLine: true
date: 11-10-2023
tags:
categories:
sticky: 1
---

# 柯里化

## 什么是柯里化

add(1,2,3)  =>  add(1)(2)(3)

## 代码

```js
 // 柯里化：只传递给函数一部分参数来调用它，让它返回一个函数去处理剩下的参数
function curry(func) {
    return function curried(...args) {
        // 关键知识点：function.length 用来获取函数的形参个数
        // 补充：arguments.length 获取的是实参个数
        if (args.length >= func.length) {
            return func.apply(this, args)
        }
        return function (...args2) {
            return curried.apply(this, args.concat(args2))
        }
    }
}

// 测试
function sum(a, b, c) {
    return a + b + c
}

// const curriedSum = curry(sum)
// console.log(curriedSum(1, 2, 3))
// console.log(curriedSum(1)(2,3))
// console.log(curriedSum(1)(2)(3))
```

- 另一种写法

```js
// 1. 构造科里化的结构
// 2. 输入 处理外层arguments => 类数组处理
// 3. 传入参数无限拓展 => 返回函数本身
// 4. 主功能 => 累加
// 5. 输出 支持从函数到产出的转换
const add = function () {
    // input
    let args = Array.prototype.slice.call(arguments);

    // 内层
    let inner = function () {
        args.push(...arguments); // arguments默认为函数的传入参数
        return inner;
    }

    inner.toString = function () {
        return args.reduce((prev, cur) => {
            return prev + cur;
        })
    }

    return inner;
}

'' + add(1)(2)(3)(4)
```

...















